<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js – The HTML Presentation Framework</title>
		<base href="/yabhoh/assets/reveal/"

		<meta name="description" content="Solving the word chain kata">
		<meta name="author" content="Marc McIntosh">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section sytle="background: url(http://codekata.com/images/kitten.png); background-repeat: no-repeat; background-position: 90% 20%;">
					<h1>Word Chains Kata</h1>
					<h3><i>"Solved"</i></h3>
					<p>
						<small>Presented by <a href="http://github.com/MarcMcIntosh">Marc McItnsoh</a></small>
					</p>
				</section>

				<section>
					  <!-- specs -->
						<h2>Specification From <a href="http://codekata.com/kata/kata19-word-chains/">codekata.com</a></h2>
						<p>the challenge is to build a chain of words, starting with one particular word and ending with another. Successive entries in the chain must all be real words, and each can differ from the previous word by just one letter.</p>
						<!-- specs end -->
				</section>

				<section>
					<section>
						<h2>Acceptance Tests</h2>
						<a href="#" class="navigate-down">
							<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>

					<section>
						 <h2>Acceptance test <bold>1</bold></h2>
							<pre><code class="hljs" data-trim contenteditable>
const wordChain = require('../');
const expect = ['cat',  'cot', 'cog', 'dog'];
const params = ['cat', 'dog'];

it(`Takes ${params} and returns £{epxect}`, () => {
	assert.deepEquil(expect, wordChain(params));
});
							</code></pre>
					</section>

					<section>
						<h2>Acceptance test <bold>2</bold></h2>
						<pre><code class="hljs" data-trim contenteditable>

const wordChain = require('../');
const expect = ['lead', 'load', 'goad', 'gold'];
const params = ['lead', 'gold'];

it(`Takes ${params} and returns £{epxect}`, () => {
	assert.deepEquil(expect, wordChain.apply(null, params);
});
						</code></pre>
					</section>

					<section>
						<h2>Acceptance test <bold>3</bold></h2>
						<pre><code class="hljs" data-trim contenteditable>
const wordChain = require('../');
const expect = [
  'ruby', 'rubs', 'robs', 'rods', 'rode', 'code',
];
const params = ['ruby', 'code'];

it(`Takes ${params} and returns £{epxect}`, () => {
	assert.deepEquil(expect, wordChain.apply(null, params);
});
						</code></pre>
					</section>
					<section>
						<h2>Resulting dictonary</h2>
						<pre><code class="hljs" data-trim contenteditable>

const DICTONARY = [
  ...[
	  'ruby', 'rubs', 'robs', 'rods', 'rode', 'code',
	],
  ...['lead', 'load', 'goad', 'gold'],
	...['cat',  'cot', 'cog', 'dog'],
]
					</code></pre>

				</section>

				</section>
				<!-- Example of nested vertical slides -->
				<section>

					<section>
						<h1>Solutions</h1>
						<a href="#" class="navigate-down">
							<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>

					<section>
						<h2>RegExp</h2>
						<pre><code class="hljs" data-trim contenteditable>
const DICTONARY = require('./dictonary');

function main(str1, str2, list) {
	const curr = list || [].concat(str1);
	const re = new RegExp('[' + str2 + ']', 'gi');

	const nextWord = DICTONARY.filter((d) => {
		if(d.length !== str2.length) { return 0; }
		const arr = d.match(re) || [];
		return arr.length === (str2.length - 1);
	});

	const end = nextWord[nextWord.length - 1];
	if(end === str2) { return list.concat(str2); }

	return main(str1, str2, curr);
}
</pre></code>
					</section>

					<section>
						<h2>Broke node</h2>
						<pre><code class="hljs" data-trim contenteditable>
node index.js
/home/marc/Projects/word-chain-kata/index.js:10
const arr = d.match(re) || [];
							^

RangeError: Maximum call stack size exceeded

				  	</code></pre>
					</section>

					<section>
						<img src="https://media.giphy.com/media/QiLFiIgj8n3r2/giphy.gif" />
					</section>

				</section>

				<section>

					<section>
						<h2>Small modules solution</h2>
						<a href="#" class="navigate-down">
								<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>

					<section>
						<pre><code class="hljs" data-trim contenteditable>
module.exports = function diffrentByOneLetter(str1, str2) {
	if(str1.length !== str2.length) { return false; }
	let count = str1.length;

  for(let i = 0; i < str1.length; i += 1) {
		if (str1[i] === str2[i]) { count -= 1; }
	}

	return count === 1;
}
						</code></pre>
					</section>

					<section>
						<pre><code class="hljs" data-trim contenteditable>
const diffrentByOneLetter = require('./diffrentByOneLetter');

module.exports = function validWords(str, arr) {
	return arr.filter(d => diffrentByOneLetter(str, d));
}
						</code></pre>
					</section>

					<section>
						<pre><code class="hljs" data-trim contenteditable>
const validWords = require('./validWords');

module.exports = function toHashMap(arr) {

	const hashMap = new Map();

	for(let i = 0; i < arr.length; i += 1) {
		const key = arr[i];
		const values = validWords(key, arr);

		if(values.length) {
			hashMap.set(key, values);
		}
	}

	return hashMap;
}
						</pre></code>
					</section>

					<section>
						<pre><code class="hljs" data-trim contenteditable>
const DICT = require('./dictonary');
const hashMap = require('./src/hashMapFromDict')(DICT);

module.exports = function walk(startWord, endWord, path = [], depth = 0) {
	path.push(startWord);

	if (startWord === endWord) { return path; }

	const lastWord = path[path.length - 1];
	const nextWords = hashMap.get(lastWord)
		.filter(d => path.indexOf(d) === -1);

	if(!nextWords.length) { return path; }

	if (nextWords.indexOf(endWord) !== -1) {
		return walk(endWord, endWord, path, depth + 1);
	};

	for(let i = 0; i < nextWords.length; i += 1) {
		const tryNext = walk(nextWords[i], endWord, path, depth + 1);
		if (tryNext.indexOf(endWord) !== -1) {
			path = tryNext;
			break;
		}
	}

	return path;
}
						</pre></code>
					</section>

				</section>
			<section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/search/search.js', async: true },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
